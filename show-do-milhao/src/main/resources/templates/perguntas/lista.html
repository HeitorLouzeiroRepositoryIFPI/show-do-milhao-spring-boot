<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perguntas</title>
    <style>
        .pergunta {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Perguntas para: <span th:text="${nickname}">Nickname</span></h1>
    <div id="perguntas-container">
        <div th:each="pergunta, iterStat : ${perguntas}" th:id="'pergunta-' + ${iterStat.index}" class="pergunta">
            <h2 th:text="${pergunta.pergunta}">Pergunta</h2>
            <div th:each="opcao, idx : ${pergunta.opcoes}">
                <input type="checkbox" th:id="'opcao-' + ${iterStat.index} + '-' + ${idx}" th:name="'opcao-' + ${iterStat.index}" th:value="${opcao}">
                <label th:for="'opcao-' + ${iterStat.index} + '-' + ${idx}" th:text="${opcao}">Opção</label>
            </div>
        </div>
    </div>
    <button id="prev-btn" onclick="showPrevious()">Anterior</button>
    <button id="next-btn" onclick="showNext()">Próxima</button>

    <script>
        let currentQuestionIndex = 0;
        const questions = document.querySelectorAll('.pergunta');

        function showQuestion(index) {
            questions.forEach((question, i) => {
                question.style.display = i === index ? 'block' : 'none';
            });
        }

        function showNext() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            }
        }

        function showPrevious() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        // Mostrar a primeira pergunta ao carregar a página
        showQuestion(currentQuestionIndex);
    </script>
</body>
</html>